{"version":3,"file":"static/js/826.357bc03a.chunk.js","mappings":"4UAEaA,EAAaC,EAAAA,GAAAA,GAAH,uCAGVC,EAAcD,EAAAA,GAAAA,GAAH,6DAKXE,EAAcF,EAAAA,GAAAA,EAAF,+DAIZG,EAAYH,EAAAA,GAAAA,EAAF,6D,SCPVI,EAAc,WACvB,IAAOC,GAAMC,EAAAA,EAAAA,MAAND,GACP,GAA6BE,EAAAA,EAAAA,UAAS,eAAtC,eAAQC,EAAR,KAAgBC,EAAhB,KACA,GAA8BF,EAAAA,EAAAA,UAAU,MAAxC,eAAOG,EAAP,KAAgBC,EAAhB,KAkBH,OAjBDC,EAAAA,EAAAA,YAAU,WAAM,wCACZ,sGAESC,EAFT,UAGMC,EAAAA,GAHN,iBAGuBT,EAHvB,4BAG6CU,EAAAA,IAH7C,UAKoBC,EAAAA,EAAAA,IAAUH,GAL9B,OAKOI,EALP,OAOCN,EAAWM,EAAKC,SAChBT,EAAUU,EAAAA,GAAAA,UARX,gDAUaV,EAAUU,EAAAA,GAAAA,UACpBC,EAAAA,GAAAA,MAAY,wCAAwC,CAACC,SAAU,IACjEC,SAAU,eAZX,0DADY,sBAACb,EAAUU,EAAAA,GAAAA,SAAX,mCAgBfI,EAAY,GAAC,CAAClB,IACF,YAATG,GAA2B,SAACgB,EAAA,EAAD,IACf,aAAXhB,GAEH,8BACGE,EAAQe,QACT,UAAC1B,EAAD,eAAcW,EAAQgB,KAAI,gBAAErB,EAAF,EAAEA,GAAGsB,EAAL,EAAKA,OAAOC,EAAZ,EAAYA,WAAWC,EAAvB,EAAuBA,QAAvB,OAC1B,UAAC5B,EAAD,YACI,SAACC,EAAD,UAAeyB,KAChB,SAACxB,EAAD,UAAe,IAAI2B,KAAKF,GAAYG,oBAEnC,uBAAIF,MAJUxB,EADQ,QAQ3B,2DAZF,CAeA,EACC,G,8EC1CWmB,EAAQ,kBACrB,SAAC,KAAD,CACEQ,SAAS,EACTC,OAAO,KACPC,MAAM,KACNC,UAAU,iBACVC,aAAc,CACZC,UAAW,QACXC,WAAY,MACZC,UAAW,mBAEbC,aAAa,iBACbC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,YAZlC,C,uJCHd,IAAM1B,EAAO,mCACPD,EAAS,gCACRK,EAAS,CACrBuB,KAAM,OACNC,QAAS,UACTC,SAAU,WACVC,SAAU,YAEL,SAAS7B,EAAUH,GACxB,OAAOiC,MAAMjC,GAAUkC,MAAK,SAAAC,GAC1B,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASxC,QAE3B,OAAOwC,EAASG,MACjB,GACF,CACM,SAASC,EAAWC,EAAMxC,GAC7B,OAAOiC,MAOF,SAAkBQ,EAAYzC,GAKnC,MAAM,GAAN,OAAUA,GAAV,OAAqByC,EACtB,CAbcC,CAASF,EAAMxC,IAAWkC,MAAK,SAAAC,GAC1C,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASxC,QAE3B,OAAOwC,EAASG,MACjB,GACF,C","sources":["components/Filmreviews/FilmReviews.styled.js","components/Filmreviews/FilmReviews.js","components/Loader/Loader.js","components/Utils/FetchMovies.js"],"sourcesContent":["import styled from \"styled-components\";\n\nexport const ReviesList = styled.ul`\nmargin-top:16px`\n\nexport const ReviewsItem = styled.li`\n:not(:last-child){margin-bottom:16px}`\n\n\n\nexport const ReviewAuthor= styled.p`\nmargin-bottom:8px;\nfont-weight: 600;\n`\nexport const ReviewDate= styled.p`\nmargin-bottom:8px;\nfont-weight: 500;`","import  { useState, useEffect}from 'react';\nimport { useParams } from \"react-router-dom\";\nimport toast from 'react-hot-toast'\nimport { Status, keyApi, fetchFilm,BASE_URL} from 'components/Utils/FetchMovies'; \nimport { Loader } from 'components/Loader/Loader';\nimport { ReviewsItem, ReviesList,ReviewAuthor,ReviewDate } from './FilmReviews.styled';\n\nexport const FilmReviews = () => {\n    const {id} = useParams();\n    const [ status, setStatus] = useState(\"Status.IDLE\"); \n    const [reviews, setReviews] = useState (null)\nuseEffect(() => {setStatus(Status.PENDING )\n    async function fetchData() {\n   try {\n       const trendUrl =\n       `${BASE_URL}movie/${id}/reviews?api_key=${keyApi}`;\n      \n     const data = await fetchFilm(trendUrl);\n     \n     setReviews(data.results)\n     setStatus(Status.RESOLVED)\n   }\n     catch (err){setStatus(Status.REJECTED )\n       toast.error(\"Ups... Something is wrong. Try again!\",{duration: 4000,\n     position: 'top-center'}, ) }\n     \n }\n fetchData()},[id])\n if(status===\"pending\"){return <Loader/>}\n if (status === 'resolved'){ \n  return ( \n  <>\n    {reviews.length?(\n    <ReviesList> {reviews.map(({id,author,created_at,content}) => (\n    <ReviewsItem key={id  }>\n        <ReviewAuthor>{author}</ReviewAuthor>\n       <ReviewDate >{ new Date(created_at).toLocaleString() }\n    </ReviewDate>\n        <p>{content}</p>\n    </ReviewsItem>\n  ))}</ReviesList>\n):(<p>There are no reviews yet</p>)} \n  </>)\n}\n}\n  export default FilmReviews\n","import { ColorRing } from  'react-loader-spinner'\n\n\nexport const Loader =()=>(\n<ColorRing\n  visible={true}\n  height=\"90\"\n  width=\"90\"\n  ariaLabel=\"blocks-loading\"\n  wrapperStyle={{\n    marginTop: \"150px\",\n    marginLeft: \"50%\",\n    transform: \"translate(-50%)\",\n  }}\n  wrapperClass=\"blocks-wrapper\"\n  colors={['#e15b64', '#f47e60', '#f8b26a', '#abbd81', '#849b87']}\n/>)","export const keyApi='894ef72300682f1db325dae2afe3e7e2'\nexport const BASE_URL=\"https://api.themoviedb.org/3/\"\nexport  const Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\nexport function fetchFilm(trendUrl) {\n  return fetch(trendUrl).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\nexport function fetchFilms(page, trendUrl) {\n    return fetch(buildUrl(page, trendUrl)).then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    });\n  }\n  export function buildUrl(pageNumber, trendUrl) {\n    // const mediaType = `movie`;\n    // const time_window = `day`;\n    //trend Url -->https://api.themoviedb.org/3/trending/movie/week?api_key=894ef72300682f1db325dae2afe3e7e2&page=\n    //https://api.themoviedb.org/3/movie/{movie_id}?api_key=<<api_key>>&language=en-US\n    return `${trendUrl}${pageNumber}`;\n  }"],"names":["ReviesList","styled","ReviewsItem","ReviewAuthor","ReviewDate","FilmReviews","id","useParams","useState","status","setStatus","reviews","setReviews","useEffect","trendUrl","BASE_URL","keyApi","fetchFilm","data","results","Status","toast","duration","position","fetchData","Loader","length","map","author","created_at","content","Date","toLocaleString","visible","height","width","ariaLabel","wrapperStyle","marginTop","marginLeft","transform","wrapperClass","colors","IDLE","PENDING","RESOLVED","REJECTED","fetch","then","response","ok","Error","json","fetchFilms","page","pageNumber","buildUrl"],"sourceRoot":""}